<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:include="layout :: page">

<head>
    <title>Projekt-Diagramm</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link th:href="@{/css/main.css}" rel="stylesheet" />
</head>

<body>
    <th:block th:fragment="content">

        <div class="container">
            <div class="text-center">
                <div class="row justify-content-center text-center">
                    <div class="col col-md-auto rounded shadow bg-primary text-light">
                        <h1 th:text="${project.name}"></h1>
                    </div>
                </div>
                <div class="padding-50"></div>
            </div>
        </div>

        <div class="row justify-content-center text-center">
            <div class="col-8 rounded shadow">
                <p th:text="${project.description}"></p>
                <p>
                    Status:
                    <b th:text="${project.statusObj}"></b>
                </p>
                <div th:if="${not listOfStatus.empty}">
                    <div class="container">
                        <div class="padding-50"></div>
                        <div class="row justify-content-between">
                            <div class="col-3">
                                <a th:href="@{'/project/' + ${pID} + '/show'}">
                                    <button type="button" class="btn btn-success shadow">Zur√ºck zu den Projektdetails</button>
                                </a>
                            </div>
                            <div class="col-auto">
                                <div class="selectBox shadow">
                                    <select id="chartType" style="font-size:16px;">
                                <option value=0>Bar</option>
                                <option value=1>Doughnut</option>
                                <option value=2>Pie</option>
                            </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="padding-50"></div>
                    <div class="chartBox" style="height: 300px">
                        <canvas id="diagram"></canvas>
                    </div>
                </div>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script th:inline="javascript">
            //Daten von users holen
            var listOfStatus = /*[[${listOfStatus}]]*/ "listOfStatus";
            var labels = /*[[${labels}]]*/ "labels";
            var name = /*[[${project.name}]]*/ "name";
            var darkMode = /*[[${session.darkmodeEnabled}]]*/ "darkMode";
        </script>
        <script type="text/javascript " defer th:src="@{/js/createDiagram.js} "></script>

    </th:block>
</body>

</html>